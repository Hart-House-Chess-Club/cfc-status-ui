<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - CFC Rating Processor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 0;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">
                <i class="fas fa-chess"></i> CFC Rating Processor
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="{{ url_for('index') }}">Home</a>
                <a class="nav-link active" href="{{ url_for('about') }}">About</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container text-center">
            <h1 class="display-4 mb-4">
                <i class="fas fa-info-circle"></i> About CFC Rating Processor
            </h1>
            <p class="lead">Learn how to use this tool and format your CSV files correctly.</p>
        </div>
    </div>

    <!-- Content Section -->
    <div class="container my-5">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                
                <!-- How it Works -->
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h3><i class="fas fa-cogs"></i> How It Works</h3>
                    </div>
                    <div class="card-body">
                        <ol class="list-group list-group-numbered list-group-flush">
                            <li class="list-group-item">Upload your tournament CSV file containing player information</li>
                            <li class="list-group-item">The system reads CFC IDs from the specified column</li>
                            <li class="list-group-item">For each player, it fetches current data from the CFC API:
                                <ul class="mt-2">
                                    <li>Current CFC quick rating</li>
                                    <li>CFC membership status and expiry date</li>
                                    <li>FIDE ID (if available)</li>
                                    <li>First and last name</li>
                                </ul>
                            </li>
                            <li class="list-group-item">Players are sorted by rating (highest to lowest)</li>
                            <li class="list-group-item">Rankings are updated based on the new order</li>
                            <li class="list-group-item">A new CSV file is generated with all the updated information</li>
                        </ol>
                    </div>
                </div>

                <!-- CSV Format Requirements -->
                <div class="card mb-4">
                    <div class="card-header bg-success text-white">
                        <h3><i class="fas fa-file-csv"></i> CSV Format Requirements</h3>
                    </div>
                    <div class="card-body">
                        <h5>Required Format:</h5>
                        <div class="alert alert-info">
                            Your CSV file should have <strong>at least 3 columns</strong>:
                            <ul class="mb-0 mt-2">
                                <li><strong>Column 0:</strong> Starting rank/position</li>
                                <li><strong>Column 1:</strong> Player name</li>
                                <li><strong>Column 2:</strong> CFC ID (default column)</li>
                            </ul>
                        </div>
                        
                        <h6 class="mt-4">Example CSV Structure:</h6>
                        <div class="alert alert-success">
                            <strong>Try it out!</strong> Download our 
                            <a href="{{ url_for('download_sample') }}" class="alert-link">
                                <i class="fas fa-download"></i> sample CSV file
                            </a> 
                            to test the application with real tournament data.
                        </div>
                        <div class="table-responsive">
                            <table class="table table-bordered table-sm">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Rank</th>
                                        <th>Player Name</th>
                                        <th>CFC ID</th>
                                        <th>Other Info...</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>John Smith</td>
                                        <td>123456</td>
                                        <td>Additional data...</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>Jane Doe</td>
                                        <td>789012</td>
                                        <td>Additional data...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h6 class="mt-4">Special CFC ID Values:</h6>
                        <ul>
                            <li><code>NA</code> or <code>N/A</code> - Player without CFC membership</li>
                            <li>Empty cell - Will be skipped</li>
                            <li>Numeric ID - Will be looked up in CFC database</li>
                        </ul>
                    </div>
                </div>

                <!-- Output Format -->
                <div class="card mb-4">
                    <div class="card-header bg-warning text-dark">
                        <h3><i class="fas fa-download"></i> Output Format</h3>
                    </div>
                    <div class="card-body">
                        <p>The processed CSV file will include all original columns plus these new columns:</p>
                        <div class="table-responsive">
                            <table class="table table-bordered table-sm">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Column</th>
                                        <th>Description</th>
                                        <th>Example Values</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>CFC Rating</td>
                                        <td>Current CFC quick rating</td>
                                        <td>1850, 1200, 0 (unrated)</td>
                                    </tr>
                                    <tr>
                                        <td>CFC Membership</td>
                                        <td>Membership status</td>
                                        <td>Valid, Expired, NA</td>
                                    </tr>
                                    <tr>
                                        <td>FIDE ID</td>
                                        <td>International chess federation ID</td>
                                        <td>2600123, (empty if not available)</td>
                                    </tr>
                                    <tr>
                                        <td>First Name</td>
                                        <td>Player's first name from CFC</td>
                                        <td>John, Jane</td>
                                    </tr>
                                    <tr>
                                        <td>Last Name</td>
                                        <td>Player's last name from CFC</td>
                                        <td>Smith, Doe</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Configuration Options -->
                <div class="card mb-4">
                    <div class="card-header bg-info text-white">
                        <h3><i class="fas fa-sliders-h"></i> Configuration Options</h3>
                    </div>
                    <div class="card-body">
                        <h6>Event Date:</h6>
                        <p>Used to determine if CFC memberships are valid or expired. Set this to your tournament date.</p>
                        
                        <h6>CFC ID Column Index:</h6>
                        <p>Specifies which column (0-based) contains the CFC IDs. Default is 2 (third column).</p>
                        <div class="alert alert-light">
                            <strong>Example:</strong> If your CFC IDs are in the 4th column, set this to <code>3</code>.
                        </div>
                    </div>
                </div>

                <!-- Tips and Troubleshooting -->
                <div class="card mb-4">
                    <div class="card-header bg-secondary text-white">
                        <h3><i class="fas fa-lightbulb"></i> Tips & Troubleshooting</h3>
                    </div>
                    <div class="card-body">
                        <h6>Tips for Best Results:</h6>
                        <ul>
                            <li>Ensure your CSV file is properly formatted with consistent columns</li>
                            <li>Remove any extra spaces or special characters from CFC IDs</li>
                            <li>Processing time depends on the number of players (about 1-2 seconds per player)</li>
                            <li>Large files may take several minutes to process</li>
                        </ul>

                        <h6>Common Issues:</h6>
                        <ul>
                            <li><strong>Player not found:</strong> CFC ID may be incorrect or player may not be in the CFC database</li>
                            <li><strong>Rating shows 0:</strong> Player may be unrated or have no recent tournament history</li>
                            <li><strong>Processing takes long:</strong> This is normal for files with many players due to API rate limiting</li>
                        </ul>
                    </div>
                </div>

                <!-- Back to Upload -->
                <div class="text-center">
                    <a href="{{ url_for('index') }}" class="btn btn-primary btn-lg">
                        <i class="fas fa-upload"></i> Upload Your File
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3">
        <div class="container">
            <p class="mb-0">&copy; 2025 CFC Rating Processor. Built for Canadian chess tournaments.</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
